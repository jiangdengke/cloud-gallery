# 计划说明

## 项目目标
打造一个类似 OpenList 的文件浏览与分享站点：部署后通过网址访问目录结构，支持文件夹分级浏览、图片/文件上传、预览图片与视频播放，并具备基于部署 Key 的管理与上传权限控制。

## 功能范围
- 目录浏览：文件夹列表、路径面包屑、排序、基本搜索。
- 预览能力：图片预览、视频播放、常见文件下载。
- 上传能力：页面内上传按钮，上传需输入 Key 校验。
- 管理后台：需要 Key 进入，包含上传、删除、重命名、创建目录。
- 权限控制：Key 在部署时设置，未验证仅能浏览。

## 关键设计
- Key 验证：Key 存于环境变量；前端提交后通过接口换取会话（Session/Cookie），会话过期需重新输入。
- 文件存储：优先使用 `storage/app`，通过 `storage:link` 暴露静态访问路径。
- 访问路径：公开浏览页与管理后台分离，管理后台需验证。

## 里程碑
1. 基础浏览
   - 目录列表、文件详情、预览图片/视频。
2. 上传与权限
   - Key 校验、上传接口、前端上传交互。
3. 管理后台
   - 文件管理功能与操作确认。
4. 稳定性与优化
   - 错误处理、日志、基础测试与部署说明。

## 交付物
- `docs/task.md` 任务清单与验收项。
- 核心 API 与前端页面实现。
- 部署与配置说明（包含 Key 与存储路径）。
